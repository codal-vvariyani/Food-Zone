<h2>Register</h2>
<form #userForm="ngForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
        <label for="firstName">First Name</label>
        <input type="text" #firstName="ngModel" required [class.is-invalid]="firstName.invalid && firstName.touched" class="form-control" name="firstName" [(ngModel)]="customerModel.firstName" />
        <div *ngIf="firstName.invalid && firstName.touched" class="invalid-feedback">
            <div *ngIf="firstName.invalid && firstName.touched">First Name is required</div>
        </div>
    </div>
    <div class="form-group">
        <label for="lastName">Last Name</label>
        <input type="text" #lastName="ngModel" required class="form-control" name="lastName" [class.is-invalid]="lastName.invalid && lastName.touched" [(ngModel)]="customerModel.lastName"/>
        <div *ngIf="lastName.invalid && lastName.touched" class="invalid-feedback">
            <div *ngIf="lastName.invalid && lastName.touched">Last Name is required</div>
        </div>
    </div>
    <div class="form-group">
        <label for="username">Username</label>
        <input type="text" #userName="ngModel" required class="form-control" name="userName" [class.is-invalid]="userName.invalid && userName.touched" [(ngModel)]="customerModel.userName"/>
        <div *ngIf="userName.invalid && userName.touched" class="invalid-feedback">
            <div *ngIf="userName.invalid && userName.touched">Username is required</div>
        </div>
    </div>
    <div class="form-group">
        <label for="password">Password</label>
        <input type="password" #password="ngModel" required class="form-control" name="password" [class.is-invalid]="password.invalid && password.touched" [(ngModel)]="customerModel.password"/>
        <div *ngIf="password.invalid && password.touched" class="invalid-feedback">
            <div [class.d-none]="password.valid || password.untouched">Password is required & must be at least 6 characters</div>
        </div>
    </div>
    <div class="form-group">
        <label for="confirmPassword">Confirm Password</label>
        <input type="password" (change)="validateConfirmPassword()" #confirmPassword="ngModel" required class="form-control" name="confirmPassword" [class.is-invalid]="confirmPassword.invalid && confirmPassword.touched" [(ngModel)]="confirmPasswordVar"/>
        <div *ngIf="confirmPassword.touched && confirmPassword.valid" class="invalid-feedback">
            <div [class.d-none]="isPasswordMatch || confirmPassword.untouched">Passwords don't match</div>
        </div>
    </div>
    <div class="form-group">
        <button [disabled]="userForm.form.invalid" class="btn btn-primary">Register</button>
        <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
        <a [routerLink]="['/login']" class="btn btn-link">Cancel</a>
    </div>
</form>
